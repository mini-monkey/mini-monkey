%% -*- mode: erlang -*-

{erl_opts, [debug_info,
	    {parse_transform, lager_transform}]}.

{deps, [{ranch, "1.7.1"},
	{lager, "3.6.9"}]}.

{shell, [{apps, [minimonkey]}]}.

{cover_enabled, true}.
{cover_export_enabled,true}.

{project_plugins, [rebar3_proper,
		   rebar3_hex,
		   {rebar3_codecov,
		    {git,
		     "https://github.com/Raphexion/rebar3_codecov.git",
		     {branch, "master"}}}]}.

{provider_hooks,
 [
  {post, [{ct, {codecov, analyze}}]},
  {post, [{eunit, {codecov, analyze}}]},
  {post, [{proper, {codecov, analyze}}]}
 ]}.

{profiles,
 [{test, [
	  {erl_opts, [nowarn_export_all]},
	  {deps, [proper]}
	 ]}
]}.
